<div style="padding: 20px;">
<mat-card class="cardWithShadow">
  <mat-card-content>
    <mat-card-title style=" text-align: center">RESULTADOS EN TIEMPO REAL</mat-card-title>
  </mat-card-content>
</mat-card>

<div class="row">
  <div class="col-sm-6 col-lg-3">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-y-24">
        <span class="mat-body-1 m-b-4 d-block">Total Usuarios Registrados</span>
        <mat-card-title class="mat-subtitle-1 f-w-600 m-b-24"
          >{{ totalUsers }}</mat-card-title
        >

        <apx-chart
          [series]="totalearnChart.series"
          [chart]="totalearnChart.chart"
          [colors]="totalearnChart.colors"
          [grid]="totalearnChart.grid"
          [plotOptions]="totalearnChart.plotOptions"
          [dataLabels]="totalearnChart.dataLabels"
          [stroke]="totalearnChart.stroke"
          [xaxis]="totalearnChart.xaxis"
          [yaxis]="totalearnChart.yaxis"
          [fill]="totalearnChart.fill"
          [tooltip]="totalearnChart.tooltip"
        >
        </apx-chart>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="col-sm-6 col-lg-3">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-y-24">
        <mat-card-title class="mat-subtitle-1 f-w-600 m-b-4"
          >{{ totalVotes }}</mat-card-title
        >
        <div class="d-flex align-items-center">
          <span class="mat-body-1">Votos Emitidos</span>
          <span class="mat-body-1 text-success m-l-auto">+1.20%</span>
        </div>
      </mat-card-content>
      <apx-chart
        [series]="followersChart.series"
        [chart]="followersChart.chart"
        [colors]="followersChart.colors"
        [stroke]="followersChart.stroke"
        [dataLabels]="followersChart.dataLabels"
        [legend]="followersChart.legend"
        [grid]="followersChart.grid"
        [xaxis]="followersChart.xaxis"
        [tooltip]="followersChart.tooltip"
      >
      </apx-chart>
    </mat-card>
  </div>


  <div class="col-sm-6 col-lg-3">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-y-24">
        <mat-card-title class="mat-subtitle-1 f-w-600 m-b-4"
          >{{ usersWhoDidNotVote }}</mat-card-title
        >
        <div class="d-flex align-items-center">
          <span class="mat-body-1">Usuarios Pendientes</span>
          <span class="mat-body-1 text-success m-l-auto">+1.20%</span>
        </div>
      </mat-card-content>
      <apx-chart
        [series]="earnChart.series"
        [chart]="earnChart.chart"
        [colors]="earnChart.colors"
        [stroke]="earnChart.stroke"
        [dataLabels]="earnChart.dataLabels"
        [legend]="earnChart.legend"
        [grid]="earnChart.grid"
        [xaxis]="earnChart.xaxis"
        [tooltip]="earnChart.tooltip"
      >
      </apx-chart>
    </mat-card>
  </div>


  <div class="col-sm-6 col-lg-3">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-y-24">
        <mat-card-title class="mat-subtitle-1 f-w-600 m-b-4">
          {{ topCandidate?.name || 'Sin datos' }}
        </mat-card-title>
        <div class="d-flex align-items-center">
          <span class="mat-body-1">Candidato m√°s votado</span>
          <span class="mat-body-1 text-success m-l-auto">{{ topCandidate?.votes || 0 }} votos</span>
        </div>
      </mat-card-content>
      <apx-chart
        [series]="candidato.series"
        [chart]="candidato.chart"
        [colors]="candidato.colors"
        [stroke]="candidato.stroke"
        [dataLabels]="candidato.dataLabels"
        [legend]="candidato.legend"
        [grid]="candidato.grid"
        [xaxis]="candidato.xaxis"
        [tooltip]="candidato.tooltip"
      >
      </apx-chart>
    </mat-card>
  </div>
  
</div>


<!-- Lista de Candidatos y Porcentajes -->
 <mat-card class="cardWithShadow text-center">
  <mat-card-content class="p-24">
  <h2>Resultados por Candidato:</h2>
  <div class="table-responsive example-container m-t-30 ">
  <table mat-table [dataSource]="results" class="mat-elevation-z8">
    <!-- Nombre -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Candidato </th>
      <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
    </ng-container>

    <!-- Partido -->
    <ng-container matColumnDef="party">
      <th mat-header-cell *matHeaderCellDef> Partido </th>
      <td mat-cell *matCellDef="let element"> {{ element.party }} </td>
    </ng-container>

    <!-- Votos -->
    <ng-container matColumnDef="votes">
      <th mat-header-cell *matHeaderCellDef> Votos </th>
      <td mat-cell *matCellDef="let element"> {{ element.votes }} </td>
    </ng-container>

    <!-- Porcentaje -->
    <ng-container matColumnDef="percentage">
      <th mat-header-cell *matHeaderCellDef> % </th>
      <td mat-cell *matCellDef="let element"> {{ element.percentage }}% </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['name', 'party', 'votes', 'percentage']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['name', 'party', 'votes', 'percentage'];"></tr>
  </table>
</div>  
</mat-card-content>
</mat-card>
</div>