<h2 class="f-w-500 m-b-24" mat-dialog-title >
    <strong>{{ action }} Usuario</strong>
  </h2>

  <div *ngIf="action !== 'Delete'; else deleteContent">
  <mat-dialog-content style="max-width: 600px">
    <form #userForm="ngForm">
      <!-- Nombre -->
      <div class="row">
        <div class="col-lg-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Nombre</mat-label>
            <input
              type="text"
              matInput
              required
              id="nombre"
              name="nombre"
              [(ngModel)]="local_data.nombre"
              #nombre="ngModel"
            />
            <mat-error *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
              El nombre es requerido.
            </mat-error>
          </mat-form-field>
        </div>
  
        <!-- Correo -->
        <div class="col-lg-6">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Correo</mat-label>
            <input
              type="email"
              matInput
              required
              id="correo"
              name="correo"
              [(ngModel)]="local_data.correo"
              #correo="ngModel"
            />
            <mat-error *ngIf="correo.invalid && (correo.dirty || correo.touched)">
              El correo es requerido y debe ser válido.
            </mat-error>
          </mat-form-field>
        </div>
  
        <!-- Tipo -->
        <div class="col-lg-12">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Tipo</mat-label>
            <mat-select
              required
              id="tipo"
              name="tipo"
              [(ngModel)]="local_data.tipo"
              #tipo="ngModel"
            >
              <mat-option *ngFor="let role of roles" [value]="role.value">
                {{ role.label }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="tipo.invalid && (tipo.dirty || tipo.touched)">
              El tipo es requerido.
            </mat-error>
          </mat-form-field>
        </div>

         <!-- Select de equipos, si el tipo es 'Presidente' o 'Jugador' -->
         <div class="col-lg-12" *ngIf="local_data.tipo === 'Presidente' || local_data.tipo === 'Jugador'">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Equipo</mat-label>
              <mat-select
                required
                id="equipo"
                name="equipo"
                [(ngModel)]="local_data.equipoId"
                #equipo="ngModel"
              >
                <mat-option *ngFor="let equipo of equipos" [value]="equipo.id">
                  {{ equipo.nombre }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="equipo.invalid && (equipo.dirty || equipo.touched)">
                El equipo es requerido.
              </mat-error>
            </mat-form-field>
          </div>
        </div>
     <!-- Botones de acción -->
     <button
     mat-flat-button
     (click)="doAction()"
     color="primary"
     [disabled]="!userForm.valid"
   >
     {{ action }}
   </button>
   <button
     mat-stroked-button
     color="warn"
     class="m-l-8"
     (click)="closeDialog()"
   >
     Cancelar
   </button>
    </form>
  </mat-dialog-content>
</div>

<ng-template #deleteContent>
    <div class="p-x-24">
      <p>
        ¿Seguro que deseas eliminar el usuario
        <span class="f-w-600">{{ local_data.nombre }}</span>?
      </p>
    </div>
    <div mat-dialog-actions class="p-x-24 p-b-24">
      <button mat-button (click)="doAction()" mat-flat-button color="warn">
        {{ action }}
      </button>
      <button mat-button (click)="closeDialog()" class="m-l-8">Cancelar</button>
    </div>
  </ng-template>
  

  